{
  "hash": "6c05271c1a834bdc427780308efd15c3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post 4\"\nsubtitle: \"Phase 2 of the EDA\"\ndescription:  |\n  Data Link:\n  https://www.kaggle.com/datasets/konradb/prison-population-in-the-us?select=populations_states.csv\nauthor: \"Group 10\"\ndate: \"2024-11-1\"\ncategories: [Blog Post 4]\ndate-modified: \"2024-11-1\"\ndraft: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\ndata <- readRDS(\"dataset/cleaned_dataset.rds\")\n\ndata_filtered <- data |>\n  filter(Date >= as.Date(\"2019-01-01\") & Date <= as.Date(\"2022-12-31\"))\n\ndata_filtered <- data_filtered |>\n  group_by(State) |>\n  mutate(\n    White_Admission_Rate = White_Admissions / Total_Admissions,\n    Black_Admission_Rate = Black_Admissions / Total_Admissions,\n    Hispanic_Admission_Rate = Hispanic_Admissions / Total_Admissions,\n    AmericanIndian_Admission_Rate = AmericanIndian_Admissions / Total_Admissions,\n    Asian_Admission_Rate = Asian_Admissions / Total_Admissions,\n    Other_Admission_Rate = Other_Admissions / Total_Admissions,\n    White_Release_Rate = White_Releases / Total_Releases,\n    Black_Release_Rate = Black_Releases / Total_Releases,\n    Hispanic_Release_Rate = Hispanic_Releases / Total_Releases,\n    AmericanIndian_Release_Rate = AmericanIndian_Releases / Total_Releases,\n    Asian_Release_Rate = Asian_Releases / Total_Releases,\n    Other_Release_Rate = Other_Releases / Total_Releases\n  )\n\nggplot(data_filtered, aes(x = State, y = White_Admission_Rate)) +\n  geom_boxplot() +\n  labs(title = \"White Admission Rate by State\", y = \"White Admission Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Black_Admission_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Black Admission Rate by State\", y = \"Black Admission Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Hispanic_Admission_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Hispanic Admission Rate by State\", y = \"Hispanic Admission Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = AmericanIndian_Admission_Rate)) +\n  geom_boxplot() +\n  labs(title = \"American Indian Admission Rate by State\", y = \"American Indian Admission Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-4.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Asian_Admission_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Asian Admission Rate by State\", y = \"Asian Admission Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-5.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Other_Admission_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Other Admission Rate by State\", y = \"Other Admission Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-6.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = White_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"White Release Rate by State\", y = \"White Release Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-7.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Black_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Black Release Rate by State\", y = \"Black Release Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-8.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Hispanic_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Hispanic Release Rate by State\", y = \"Hispanic Release Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-9.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = AmericanIndian_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"American Indian Release Rate by State\", y = \"American Indian Release Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-10.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Asian_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Asian Release Rate by State\", y = \"Asian Release Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-11.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Other_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Other Release Rate by State\", y = \"Other Release Rate\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-12.png){width=672}\n:::\n\n```{.r .cell-code}\nracial_summary <- data_filtered |>\n  summarise(\n    Mean_White_Admission_Rate = mean(White_Admission_Rate, na.rm = TRUE),\n    Median_White_Admission_Rate = median(White_Admission_Rate, na.rm = TRUE),\n    Mean_Black_Admission_Rate = mean(Black_Admission_Rate, na.rm = TRUE),\n    Median_Black_Admission_Rate = median(Black_Admission_Rate, na.rm = TRUE),\n    Mean_Hispanic_Admission_Rate = mean(Hispanic_Admission_Rate, na.rm = TRUE),\n    Median_Hispanic_Admission_Rate = median(Hispanic_Admission_Rate, na.rm = TRUE),\n    Mean_AmericanIndian_Admission_Rate = mean(AmericanIndian_Admission_Rate, na.rm = TRUE),\n    Median_AmericanIndian_Admission_Rate = median(AmericanIndian_Admission_Rate, na.rm = TRUE),\n    Mean_Asian_Admission_Rate = mean(Asian_Admission_Rate, na.rm = TRUE),\n    Median_Asian_Admission_Rate = median(Asian_Admission_Rate, na.rm = TRUE),\n    Mean_Other_Admission_Rate = mean(Other_Admission_Rate, na.rm = TRUE),\n    Median_Other_Admission_Rate = median(Other_Admission_Rate, na.rm = TRUE),\n    Mean_White_Release_Rate = mean(White_Release_Rate, na.rm = TRUE),\n    Median_White_Release_Rate = median(White_Release_Rate, na.rm = TRUE),\n    Mean_Black_Release_Rate = mean(Black_Release_Rate, na.rm = TRUE),\n    Median_Black_Release_Rate = median(Black_Release_Rate, na.rm = TRUE),\n    Mean_Hispanic_Release_Rate = mean(Hispanic_Release_Rate, na.rm = TRUE),\n    Median_Hispanic_Release_Rate = median(Hispanic_Release_Rate, na.rm = TRUE),\n    Mean_AmericanIndian_Release_Rate = mean(AmericanIndian_Release_Rate, na.rm = TRUE),\n    Median_AmericanIndian_Release_Rate = median(AmericanIndian_Release_Rate, na.rm = TRUE),\n    Mean_Asian_Release_Rate = mean(Asian_Release_Rate, na.rm = TRUE),\n    Median_Asian_Release_Rate = median(Asian_Release_Rate, na.rm = TRUE),\n    Mean_Other_Release_Rate = mean(Other_Release_Rate, na.rm = TRUE),\n    Median_Other_Release_Rate = median(Other_Release_Rate, na.rm = TRUE)\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = White_Admission_Rate - White_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Difference between Admission and Release Rates for White by State\", y = \"Admission - Release Rate Difference (White)\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Black_Admission_Rate - Black_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Difference between Admission and Release Rates for Black by State\", y = \"Admission - Release Rate Difference (Black)\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Hispanic_Admission_Rate - Hispanic_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Difference between Admission and Release Rates for Hispanic by State\", y = \"Admission - Release Rate Difference (Hispanic)\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = AmericanIndian_Admission_Rate - AmericanIndian_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Difference between Admission and Release Rates for American Indian by State\", y = \"Admission - Release Rate Difference (American Indian)\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-4.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Asian_Admission_Rate - Asian_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Difference between Admission and Release Rates for Asian by State\", y = \"Admission - Release Rate Difference (Asian)\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-5.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data_filtered, aes(x = State, y = Other_Admission_Rate - Other_Release_Rate)) +\n  geom_boxplot() +\n  labs(title = \"Difference between Admission and Release Rates for Other by State\", y = \"Admission - Release Rate Difference (Other)\")\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-6.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lme4)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: Matrix\n```\n\n\n:::\n\n```{.r .cell-code}\ndata_filtered$State <- as.factor(data_filtered$State)\n\nmodel_admissions <- lmer(Total_Admissions ~ White_Admissions + Black_Admissions + Hispanic_Admissions + AmericanIndian_Admissions + Asian_Admissions + Other_Admissions + (1 | State), data = data_filtered)\n\nsummary(model_admissions)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLinear mixed model fit by REML ['lmerMod']\nFormula: \nTotal_Admissions ~ White_Admissions + Black_Admissions + Hispanic_Admissions +  \n    AmericanIndian_Admissions + Asian_Admissions + Other_Admissions +  \n    (1 | State)\n   Data: data_filtered\n\nREML criterion at convergence: 7787\n\nScaled residuals: \n     Min       1Q   Median       3Q      Max \n-18.0130  -0.0799  -0.0217   0.0739   3.0395 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n State    (Intercept)   99.07   9.954  \n Residual             1229.15  35.059  \nNumber of obs: 778, groups:  State, 18\n\nFixed effects:\n                           Estimate Std. Error t value\n(Intercept)               12.599167   3.912684   3.220\nWhite_Admissions           0.957789   0.009778  97.952\nBlack_Admissions           1.026235   0.018305  56.063\nHispanic_Admissions        1.029933   0.014327  71.889\nAmericanIndian_Admissions  0.921843   0.105545   8.734\nAsian_Admissions           1.201442   0.463080   2.594\nOther_Admissions           0.598593   0.101962   5.871\n\nCorrelation of Fixed Effects:\n            (Intr) Wht_Ad Blck_A Hspn_A AmrI_A Asn_Ad\nWht_Admssns -0.405                                   \nBlck_Admssn -0.019 -0.552                            \nHspnc_Admss  0.241 -0.156 -0.608                     \nAmrcnIndn_A -0.299 -0.081  0.247 -0.233              \nAsn_Admssns -0.182 -0.041 -0.117  0.172 -0.407       \nOthr_Admssn -0.243  0.122  0.258 -0.693  0.132 -0.047\n```\n\n\n:::\n:::\n",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}